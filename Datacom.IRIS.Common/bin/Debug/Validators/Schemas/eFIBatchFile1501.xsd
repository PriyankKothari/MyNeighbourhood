<?xml version="1.0" encoding="utf-8" ?>
<xs:schema targetNamespace="http://www.justice.govt.nz/efi/batch/eFIBatchFile1501" xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:efibatch="http://www.justice.govt.nz/efi/batch/eFIBatchFile1501" xmlns:eficms="http://www.justice.govt.nz/efi/cms/eFIXMLFile1501"
	elementFormDefault="unqualified" attributeFormDefault="unqualified" version="1.5.01">
	<xs:import namespace="http://www.justice.govt.nz/efi/cms/eFIXMLFile1501" schemaLocation="eFIXMLFile1501.xsd" />
	<xs:annotation>
		<xs:documentation> This XSD defines the format of eFI XML Files.
		                   Based on eFI XML File Specification v1.5.doc as at 20/Nov/2006
		</xs:documentation>
	</xs:annotation>
	<xs:element name="infringements">
		<xs:complexType>
			<xs:sequence>
				<xs:element name="header" type="efibatch:header-type" />
				<xs:element name="infringement" type="efibatch:infringement-type" minOccurs="1" maxOccurs="unbounded">
					<xs:annotation>
						<xs:documentation>
						maxOccurs is set to unbounded for performance reasons but the eFI system will enforce a configurable limit.
						</xs:documentation>
					</xs:annotation>
				</xs:element>
				<xs:element name="trailer" type="efibatch:trailer-type" />
			</xs:sequence>
		</xs:complexType>
	</xs:element>
	<xs:complexType name="header-type">
		<xs:sequence>
			<xs:element name="infringement-batch-id" type="eficms:file-name-type" />
			<xs:element name="sequence-number" type="eficms:sequence-number-type" />
			<xs:element name="prosecuting-agency" type="eficms:prosecuting-agency-type" />
			<xs:element name="date-created" type="xs:date" />
			<xs:element name="time-created" type="xs:time" />
			<xs:element name="return-email-address" type="eficms:email-type" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="infringement-type">
		<xs:sequence>
			<xs:element name="transaction" type="eficms:transaction-type-type" />
			<xs:element name="name-details" type="eficms:name-details-type" />
			<xs:element name="address-details" type="eficms:address-details-type" />
			<xs:element name="offence-details" type="eficms:offence-details-type" />
			<xs:element name="reminder-notice-details" type="eficms:reminder-notice-details-type" minOccurs="0" />
			<xs:element name="additional-fields" type="efibatch:addtional-fields-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="trailer-type">
		<xs:sequence>
			<xs:element name="record-count" type="eficms:record-count-type" />
		</xs:sequence>
	</xs:complexType>
	<!--Additional data set (optional)-->
	<xs:complexType name="addtional-fields-type">
		<xs:sequence>
			<xs:element name="current-post-address" type="efibatch:address-details-type" minOccurs="0" />
			<xs:element name="defendant-telephone-number" type="efibatch:defendant-telephone-number-type"
				minOccurs="0" />
			<xs:element name="defendant-email-address" type="efibatch:defendant-email-address-type" minOccurs="0" />
			<xs:element name="employer-details" type="efibatch:employer-details-type" minOccurs="0" />
			<xs:element name="employers-address" type="efibatch:address-details-type" minOccurs="0" />
			<xs:element name="identification-by-defendant" type="efibatch:identification-by-defendant-type"
				minOccurs="0" />
			<xs:element name="other-details-defendant" type="efibatch:other-details-defendant-type" minOccurs="0" />
			<xs:element name="other-details-offence" type="efibatch:other-details-offence-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="address-details-type">
		<xs:sequence>
			<xs:element name="address-type" type="eficms:address-type-type" minOccurs="0" />
			<xs:element name="address1" type="efibatch:address-line1-type" minOccurs="0" />
			<xs:element name="address2" type="efibatch:address-line-type" minOccurs="0" />
			<xs:element name="suburb" type="efibatch:suburb-province-type" minOccurs="0" />
			<xs:element name="town-or-city" type="efibatch:suburb-province-type" minOccurs="0" />
			<xs:element name="postcode" type="eficms:postcode-type" minOccurs="0" />
			<xs:element name="state-province" type="efibatch:suburb-province-type" minOccurs="0" />
			<xs:element name="country-code" type="eficms:country-code-type" minOccurs="0" />
			<xs:element name="address-date" type="xs:date" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="defendant-telephone-number-type">
		<xs:sequence>
			<xs:element name="home-phone-number" type="efibatch:phone-number-type" minOccurs="0" />
			<xs:element name="home-fax-number" type="efibatch:phone-number-type" minOccurs="0" />
			<xs:element name="mobile-number" type="efibatch:phone-number-type" minOccurs="0" />
			<xs:element name="work-phone-number" type="efibatch:phone-number-type" minOccurs="0" />
			<xs:element name="work-fax-number" type="efibatch:phone-number-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="defendant-email-address-type">
		<xs:sequence>
			<xs:element name="home-email-address" type="eficms:email-type" minOccurs="0" />
			<xs:element name="work-email-address" type="eficms:email-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="employer-details-type">
		<xs:sequence>
			<xs:element name="employment-status" type="eficms:yn-type" minOccurs="0" />
			<xs:element name="employer-name" type="efibatch:employer-name-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="identification-by-defendant-type">
		<xs:sequence>
			<xs:element name="beneficiary-number" type="efibatch:number-string-type" minOccurs="0" />
			<xs:element name="passport-number" type="efibatch:number-string-type" minOccurs="0" />
			<xs:element name="passport-country" type="efibatch:country-name-type" minOccurs="0" />
			<xs:element name="ird-number" type="efibatch:number-string-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="other-details-defendant-type">
		<xs:sequence>
			<xs:element name="aliases" type="efibatch:name-type" minOccurs="0" />
			<xs:element name="preferred-name" type="efibatch:name-type" minOccurs="0" />
			<xs:element name="bank-name" type="efibatch:name-type" minOccurs="0" />
			<xs:element name="bank-account-number" type="efibatch:bank-account-number-type" minOccurs="0" />
			<xs:element name="alert-flag" type="eficms:yn-type" minOccurs="0" />
			<xs:element name="alert-reason" type="efibatch:alert-reason-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="other-details-offence-type">
		<xs:sequence>
			<xs:element name="aircraft-nationality" type="efibatch:aircraft-details-type" minOccurs="0" />
			<xs:element name="aircraft-type" type="efibatch:aircraft-details-type" minOccurs="0" />
			<xs:element name="aircraft-registration-number" type="efibatch:aircraft-details-type" minOccurs="0" />
			<xs:element name="aviation-document-number" type="efibatch:aircraft-details-type" minOccurs="0" />
		</xs:sequence>
	</xs:complexType>
	<!-- Simple Types -->
	<xs:simpleType name="address-line1-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="125" />
			<xs:minLength value="1" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="address-line-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="125" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="suburb-province-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="40" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="phone-number-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="11" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="employer-name-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="100" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="number-string-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="15" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="country-name-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="60" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="name-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="150" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="bank-account-number-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="150" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="alert-reason-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="100" />
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="aircraft-details-type">
		<xs:restriction base="xs:normalizedString">
			<xs:maxLength value="60" />
		</xs:restriction>
	</xs:simpleType>
</xs:schema>